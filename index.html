<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>PDFãƒ“ãƒ¥ãƒ¼ã‚¢</title>

<style>
body {
  margin: 0;
  font-family: sans-serif;
  background: #f0f0f0;
}

/* ===== ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ ===== */
#toolbar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 90px;
  background: #222;
  color: #fff;
  display: flex;
  align-items: center;
  padding: 0 20px;
  z-index: 100;
}

.toolbar-left,
.toolbar-center,
.toolbar-right {
  display: flex;
  align-items: center;
  gap: 16px;
}

.toolbar-left,
.toolbar-right {
  flex: 1;
}

.toolbar-center {
  flex: 2;
  justify-content: center;
  font-size: 26px;
  font-weight: bold;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ãƒœã‚¿ãƒ³å…±é€š */
#toolbar select,
#toolbar button {
  background: #444;
  color: #fff;
  border: none;
  padding: 14px 20px;
  font-size: 22px;
  border-radius: 10px;
  cursor: pointer;
}

#toolbar button:hover,
#toolbar select:hover {
  background: #666;
}

#toolbar button img {
  width: 30px;
  height: 30px;
  pointer-events: none;
}

#zoomLevel {
  font-size: 22px;
  min-width: 80px;
  text-align: center;
}

/* ===== PDFè¡¨ç¤º ===== */
#viewer {
  padding-top: 120px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 28px;
}

canvas {
  background: #fff;
  box-shadow: 0 0 10px rgba(0,0,0,0.25);
}
</style>
</head>

<body>

<!-- ===== ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ ===== -->
<div id="toolbar">

  <!-- å·¦ï¼šPDFé¸æŠ + ã‚ºãƒ¼ãƒ  -->
  <div class="toolbar-left">
    <select id="pdfSelect">
  ã€€  <option value="äº¬é›»16ã‚¹ã‚¿ãƒ•.pdf">äº¬é›»16ã‚¹ã‚¿ãƒ•.pdf</option>
  ã€€  <option value="äº¬é›»16ã‚¹ã‚¿ãƒ•.pdf">äº¬é›»26ã‚¹ã‚¿ãƒ•.pdf</option>
  ã€€  <option value="å†å¤‰115.pdf">å†å¤‰115.pdf</option>
   ã€€ <option value="å¤§é›»5ã‚¹ã‚¿ãƒ•.pdf">å¤§é›»5ã‚¹ã‚¿ãƒ•.pdf</option>
   ã€€ <option value="å¤‰42ã‚¹ã‚¿ãƒ•.pdf">å¤‰42ã‚¹ã‚¿ãƒ•.pdf</option>
  ã€€  <option value="å¤‰BT34ã‚¹ã‚¿ãƒ•.pdf">å¤‰BT34ã‚¹ã‚¿ãƒ•.pdf</option>
   ã€€ <option value="è‡¨4101ã‚¹ã‚¿ãƒ•.pdf">è‡¨4101ã‚¹ã‚¿ãƒ•.pdf</option>
   ã€€ <option value="è‡¨4304ã‚¹ã‚¿ãƒ•.pdf">è‡¨4304ã‚¹ã‚¿ãƒ•.pdf</option>
   ã€€ <option value="è‡¨4602ã‚¹ã‚¿ãƒ•.pdf">è‡¨4602ã‚¹ã‚¿ãƒ•.pdf</option>
   ã€€ <option value="è‡¨5104ã‚¹ã‚¿ãƒ•.pdf">è‡¨5104ã‚¹ã‚¿ãƒ•.pdf</option>
   ã€€ <option value="è‡¨5751ã‚¹ã‚¿ãƒ•.pdf">è‡¨5751ã‚¹ã‚¿ãƒ•.pdf</option>
   ã€€ <option value="è‡¨6017ã‚¹ã‚¿ãƒ•.pdf">è‡¨6017ã‚¹ã‚¿ãƒ•.pdf</option>
    ã€€<option value="è‡¨6095ã‚¹ã‚¿ãƒ•.pdf">è‡¨6095ã‚¹ã‚¿ãƒ•.pdf</option>
    </select>

    <button id="zoomOut">âˆ’</button>
    <span id="zoomLevel">100%</span>
    <button id="zoomIn">ï¼‹</button>
  </div>

  <!-- ä¸­å¤®ï¼šãƒ•ã‚¡ã‚¤ãƒ«å -->
  <div class="toolbar-center">
    <span id="fileName">sample1.pdf</span>
  </div>

  <!-- å³ï¼šÃ— â†’ ã‚´ãƒŸç®± â†’ ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ -->
  <div class="toolbar-right">
    <button id="close" title="Close">âœ•</button>
    <button id="delete" title="Remove">ğŸ—‘ï¸</button>

    <button id="download" title="Download">
      <img src="data:image/svg+xml;utf8,
      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'>
        <path d='M5 20h14v-2H5v2zm7-18v12l4-4 1.41 1.41L12 18.83l-5.41-5.42L8 10l4 4V2h1z'/>
      </svg>">
    </button>
  </div>

</div>

<!-- ===== PDFè¡¨ç¤º ===== -->
<div id="viewer"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

<script>
let pdfDoc = null;
let scale = 1.0;

const select = document.getElementById('pdfSelect');
const fileNameLabel = document.getElementById('fileName');
const viewer = document.getElementById('viewer');
const zoomLevel = document.getElementById('zoomLevel');

let currentUrl = select.value;
fileNameLabel.textContent = currentUrl;

/* PDFèª­ã¿è¾¼ã¿ */
function loadPDF(url) {
  viewer.innerHTML = '';
  pdfjsLib.getDocument(url).promise.then(pdf => {
    pdfDoc = pdf;
    scale = 1.0;
    renderAllPages();
  });
}

/* å…¨ãƒšãƒ¼ã‚¸æç”» */
function renderAllPages() {
  zoomLevel.textContent = Math.round(scale * 100) + '%';
  viewer.innerHTML = '';

  for (let i = 1; i <= pdfDoc.numPages; i++) {
    pdfDoc.getPage(i).then(page => {
      const viewport = page.getViewport({ scale });
      const canvas = document.createElement('canvas');
      const ctx = canvas.getContext('2d');

      canvas.width = viewport.width;
      canvas.height = viewport.height;

      page.render({ canvasContext: ctx, viewport });
      viewer.appendChild(canvas);
    });
  }
}

/* ã‚¤ãƒ™ãƒ³ãƒˆ */
select.onchange = e => {
  currentUrl = e.target.value;
  fileNameLabel.textContent = currentUrl;
  loadPDF(currentUrl);
};

document.getElementById('zoomIn').onclick = () => {
  scale += 0.1;
  renderAllPages();
};

document.getElementById('zoomOut').onclick = () => {
  if (scale > 0.3) {
    scale -= 0.1;
    renderAllPages();
  }
};

document.getElementById('download').onclick = () => {
  const a = document.createElement('a');
  a.href = currentUrl;
  a.download = currentUrl;
  a.click();
};

document.getElementById('delete').onclick = () => {
  viewer.innerHTML = '';
  fileNameLabel.textContent = '';
};

document.getElementById('close').onclick = () => {
  viewer.innerHTML = '';
};

/* åˆæœŸè¡¨ç¤º */
loadPDF(currentUrl);
</script>

</body>
</html>
